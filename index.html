<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحتي الشخصية</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; direction: rtl; }
        img { max-width: 200px; border-radius: 10px; margin-top: 20px; }
        #adminControls { display: none; margin-top: 20px; }
        #loginSection, #guestSection { margin-top: 20px; }
    </style>
</head>
<body>

    <h2>صفحتي الشخصية</h2>

    <!-- عرض الصورة -->
    <img id="profileImage" src="default.jpg" alt="صورتي الشخصية">
    
    <!-- قسم تسجيل الدخول -->
    <div id="loginSection">
        <input type="password" id="passwordInput" placeholder="أدخل كلمة السر">
        <button onclick="login()">تسجيل الدخول</button>
    </div>

    <!-- قسم الدخول كزائر -->
    <div id="guestSection">
        <button onclick="guestLogin()">الدخول كزائر</button>
    </div>

    <!-- أدوات المدير (تحميل صورة) -->
    <div id="adminControls">
        <input type="file" id="imageInput" accept="image/*" onchange="uploadImage()">
    </div>

    <script>
        const correctPassword = "1234"; // قم بتغييرها لكلمة مرورك الخاصة

        // تحميل الصورة المحفوظة إذا وُجدت
        window.onload = function() {
            const savedImage = localStorage.getItem("profileImage");
            if (savedImage) {
                document.getElementById("profileImage").src = savedImage;
            }
        };

        function login() {
            const password = document.getElementById("passwordInput").value;
            if (password === correctPassword) {
                document.getElementById("adminControls").style.display = "block";
                document.getElementById("loginSection").style.display = "none";
                document.getElementById("guestSection").style.display = "none";
            } else {
                alert("كلمة المرور غير صحيحة!");
            }
        }

        function guestLogin() {
            document.getElementById("guestSection").style.display = "none";
            // لا يظهر خيار تحميل الصورة للزوار
            document.getElementById("adminControls").style.display = "none";
            // إظهار الصورة المحفوظة إن كانت موجودة
            const savedImage = localStorage.getItem("profileImage");
            if (savedImage) {
                document.getElementById("profileImage").src = savedImage;
            }
        }

        function uploadImage() {
            const file = document.getElementById("imageInput").files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    document.getElementById("profileImage").src = event.target.result;
                    localStorage.setItem("profileImage", event.target.result); // حفظ الصورة
                };
                reader.readAsDataURL(file);
            }
        }
    </script>

</body>
</html>
